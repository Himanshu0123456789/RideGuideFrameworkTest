name: Build and Archive Framework

on:
  push:
    branches:
      - main

jobs:
  build:
    runs-on: macOS-latest

    steps:
      - name: Checkout Code
        uses: actions/checkout@v2

      - name: Build and Archive Framework
        run: |
          xcodebuild archive \
            -scheme RideGuideFramework \
            -destination="generic/platform=iOS Simulator" \
            -archivePath ./output/RideGuideFramework-Sim \
            SKIP_INSTALL=NO \
            BUILD_LIBRARY_FOR_DISTRIBUTION=YES
            
      - name: Build and Archive Framework
        run: |
          xcodebuild archive \
            -scheme RideGuideFramework \
            -destination="generic/platform=iOS" \
            -archivePath ./output/RideGuideFramework \
            SKIP_INSTALL=NO \
            BUILD_LIBRARY_FOR_DISTRIBUTION=YES

      
